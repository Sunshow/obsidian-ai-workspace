# 需求沟通记录

## 项目目标

构建一个 Docker 镜像，集成以下组件：
- Obsidian 客户端（桌面版）
- Claude Code / 其他 Agent 工具
- Web 工具（负责认证、分享、Agent 操作等逻辑）

## 核心功能需求

### 1. Web 访问 Obsidian
- 通过部署镜像实现笔记的 Web 访问
- 支持认证保护
- 操作体验与本地 Obsidian 客户端一致
- **技术方案**: Obsidian Desktop + VNC/noVNC 暴露

### 2. 认证功能
- **用户模式**: 单用户
- **认证方式**: 用户名 + 密码
- **多用户场景**: 如需多用户，可通过 Vault 文件共享和同步运行多个实例实现

### 3. 笔记分享
- 支持公开链接分享
- 可选密码保护
- 暂不实现时效性控制（后续扩展）

### 4. AI Agent 功能
- **交互方式**: 交互式 / 预设操作
- **操作范围**: 仅笔记内容（不包括插件管理、设置修改）
- **首个任务**: 抓取指定链接内容并整理成笔记
- **后续扩展**: 每日总结、标签整理、链接检查等

### 5. Vault 持久化
- 容器创建时可挂载外部 Obsidian Vault
- 实现笔记、插件、主题、内容的持久化

## 技术决策

| 决策项 | 选择 | 说明 |
|--------|------|------|
| Obsidian 方案 | Desktop + noVNC | 完整的客户端体验 |
| Livesync 替代方案 | 暂不考虑 | 需要完整的网页版 Obsidian 体验 |
| Obsidian EULA | 接受 | 本项目为开源使用 |
| API Key 来源 | 用户自备 | 通过环境变量传入 |
| Agent 后端 | 仅 Claude Code | 后续可能加入其他后端支持 |
| 部署形态 | 灵活 | 根据实际情况选择单容器或 docker-compose |
| 资源限制 | 暂不限制 | 实验性项目 |

## 非功能性需求

- 开源项目
- 易于部署（Docker 一键启动）
- 配置简单（环境变量驱动）
